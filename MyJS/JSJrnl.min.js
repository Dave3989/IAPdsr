function jAddClicked(){jblankJournal(),document.getElementById("jdetail").style.display="block",document.getElementById("jdate").focus()}function jblankJournal(){return document.getElementById("jlink").style.display="none",document.getElementById("jdate").value="",document.getElementById("jdesc").value="",document.getElementById("jtype").value="",document.getElementById("jtype").disabled=!1,document.getElementById("jcbamt").value="",document.getElementById("jcbprft").value="",document.getElementById("jipitem").value="",document.getElementById("jipcost").value="",document.getElementById("jipunits").value="",document.getElementById("jipprice").value="",document.getElementById("jipcat").value="",document.getElementById("joiamt").value="",document.getElementById("jpivend").value="",document.getElementById("jpinet").value="",document.getElementById("jpiship").value="",document.getElementById("jpitax").value="",document.getElementById("jpiamt").value="",document.getElementById("jpsvend").value="",document.getElementById("jpsamt").value="",document.getElementById("jpsship").value="",document.getElementById("jpstax").value="",document.getElementById("jpsmiles").value="",document.getElementById("jmeamt").value="",document.getElementById("jmeship").value="",document.getElementById("jmetax").value="",document.getElementById("jmemiles").value="",document.getElementById("jpxcost").value="",document.getElementById("jpxship").value="",document.getElementById("jpxtax").value="",document.getElementById("jsvend").value="",document.getElementById("jscost").value="",document.getElementById("jsship").value="",document.getElementById("jstax").value="",document.getElementById("jsprft").value="",document.getElementById("jstotal").value="",document.getElementById("jcomment").value="",document.getElementById("JUPDATETYPE").value="NEW",document.getElementById("JJRNLDATE").value="",document.getElementById("JJRNLID").value="",jSetOptionDiv(),!0}function jGoClicked(){}function jProcJrnl(e){if(0==e)return document.getElementById("iupdatetype").value="NEW",jblankJournal(),e;jblankJournal(),jGlobalJrnl=e,document.getElementById("jdate").value=moment(e.jrnl_date).format("MM/DD/YYYY"),document.getElementById("jdesc").value=e.jrnl_description,document.getElementById("jtype").value=e.jrnl_type,document.getElementById("jtype").disabled=!0;var t=format("###,###0.00",e.jrnl_net),n=format("###,###0.00",e.jrnl_amount),l=format("#,###0.00",e.jrnl_shipping),d=format("#,###0.00",e.jrnl_tax),m=format("#,###0.00",e.jrnl_mileage),o=format("###,###0.00",e.jrnl_profit),c=format("###,###0.00",e.jrnl_cost),a=format("###,###0.00",e.jrnl_price);switch(e.jrnl_type){case"CB":document.getElementById("jcbamt").value=n,document.getElementById("jcbprft").value=o;break;case"IP":document.getElementById("jipitem").value=e.jrnl_item_code,document.getElementById("jipcost").value=c,document.getElementById("jipunits").value=e.jrnl_units,document.getElementById("jipprice").value=a;break;case"ME":document.getElementById("jmeamt").value=n,document.getElementById("jmeship").value=l,document.getElementById("jmetax").value=d,document.getElementById("jmemiles").value=m;break;case"MI":break;case"OI":document.getElementById("joiamt").value=n;break;case"PI":if(document.getElementById("jpivend").value=e.jrnl_vendor,document.getElementById("jpinet").value=t,document.getElementById("jpiship").value=l,document.getElementById("jpitax").value=d,document.getElementById("jpiamt").value=n,document.getElementById("jcomment").readonly=!0,""!=e.jrnl_detail_key)document.getElementById("jlink").style.display="none";else{document.getElementById("jlink").style.display="block";var u="?page_id=208&action=selected&pur="+e.jrnl_detail_key;document.getElementById("jlinkref").href=u}break;case"PS":document.getElementById("jpsvend").value=e.jrnl_vendor,document.getElementById("jpsamt").value=n,document.getElementById("jpsship").value=l,document.getElementById("jpstax").value=d,document.getElementById("jpsmiles").value=m;break;case"PX":document.getElementById("jpxcost").value=n,document.getElementById("jpxship").value=l,document.getElementById("jpxtax").value=d;break;case"SE":case"SP":document.getElementById("jsvend").value=e.jrnl_vendor;case"SI":case"SO":case"SW":if(document.getElementById("jsnet").value=t,document.getElementById("jscost").value=c,document.getElementById("jsship").value=l,document.getElementById("jstax").value=d,document.getElementById("jsprft").value=o,document.getElementById("jstotal").value=n,""==e.jrnl_detail_key)document.getElementById("jlink").style.display="none";else{document.getElementById("jlink").style.display="block";var y="?page_id=291&action=selected&sale="+e.jrnl_detail_key;document.getElementById("jlinkref").href=y}}return document.getElementById("jcomment").value=e.jrnl_comment,document.getElementById("JUPDATETYPE").value="EXISTING",document.getElementById("JJRNLDATE").value=e.jrnl_date,document.getElementById("JJRNLID").value=e.jrnl_id,jSetOptionDiv(),document.getElementById("jtype").readonly=!0,e}function jProcCode(e){document.getElementById("jipcat").value=e.code_value,jGlobalJrnl.jrnl_code_value=e.code_value}function jSetOptionDiv(){switch(document.getElementById("jcomm").style.display="none",document.getElementById("jitemprc").style.display="none",document.getElementById("jmiscexp").style.display="none",document.getElementById("jowninv").style.display="none",document.getElementById("jpurinv").style.display="none",document.getElementById("jpursup").style.display="none",document.getElementById("jprodxchg").style.display="none",document.getElementById("jsales").style.display="none",document.getElementById("jsales2").style.display="none",document.getElementById("jtype").value){case"":break;case"CB":document.getElementById("jcomm").style.display="block",document.getElementById("jcomment").readonly=!1,document.getElementById("csubmit").style.display="block";break;case"IP":document.getElementById("jitemprc").style.display="block",document.getElementById("jcomment").readonly=!0,document.getElementById("csubmit").style.display="none";break;case"ME":document.getElementById("jmiscexp").style.display="block",document.getElementById("jcomment").readonly=!1,document.getElementById("csubmit").style.display="block";break;case"MI":document.getElementById("jcomment").readonly=!1,document.getElementById("csubmit").style.display="block";break;case"OI":document.getElementById("jowninv").style.display="block",document.getElementById("csubmit").style.display="block",document.getElementById("jcomment").readonly=!1;break;case"PI":document.getElementById("jpurinv").style.display="block",document.getElementById("jcomment").readonly=!0,document.getElementById("csubmit").style.display="none";break;case"PS":document.getElementById("jpursup").style.display="block",document.getElementById("jcomment").readonly=!1,document.getElementById("csubmit").style.display="block";break;case"PX":document.getElementById("jprodxchg").style.display="block",document.getElementById("jcomment").readonly=!0,document.getElementById("csubmit").style.display="none";break;case"SE":case"SP":document.getElementById("jsales").style.display="block",document.getElementById("jcomment").readonly=!0,document.getElementById("csubmit").style.display="none";break;case"SI":case"SO":case"SW":document.getElementById("jsales2").style.display="block",document.getElementById("jcomment").readonly=!0,document.getElementById("csubmit").style.display="none"}}var pGlobalItem=[],jGlobalJrnl=[];$(function(){$("#jselect").autocomplete({source:jJList,minLength:0,change:function(e,t){if(""==document.getElementById("jselect").value)document.getElementById("jError").style.display="block",document.getElementById("jselect").focus();else{var n=t.item.jrnlid;if(t=iapPrepCall("/Ajax/iapGetDB","J#",n,jProcJrnl),document.getElementById("jselect").value="",document.getElementById("jerror").style.display="none",document.getElementById("jdetail").style.display="block","IP"==document.getElementById("jtype").value){var l="cat~"+jGlobalJrnl.jrnl_cat_code;iapPrepCall("/Ajax/iapGetDB","D#",l,jProcCode)}}}})});